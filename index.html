<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TecPro99</title>

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PWLSS3VE8R"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-PWLSS3VE8R');
  </script>

  <style>
    :root{
      --bg:#0b0f16;
      --card:#0f1724cc;
      --stroke:#1b2a42;
      --text:#eaf0ff;
      --muted:#a9b7d3;
      --blue:#1e88e5;
      --orange:#ff8a00;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius:18px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background: var(--bg);
      overflow-x:hidden;
    }

    /* ===== Animated Background (Back-1..Back-10) ===== */
    .bg-rotator{
      position: fixed;
      inset: 0;
      z-index: -2;
      overflow: hidden;
    }
    .bg-rotator::before{
      content:"";
      position:absolute; inset:-20px;
      background-size: cover;
      background-position: center;
      filter: blur(6px) brightness(.90);
      transform: scale(1.08);
      animation: bgSwap 60s infinite;
      will-change: background-image, opacity, transform;
    }
    .bg-rotator::after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(900px 500px at 20% 10%, rgba(30,136,229,.20), transparent 60%),
                  radial-gradient(900px 500px at 80% 90%, rgba(255,138,0,.18), transparent 60%),
                  linear-gradient(180deg, rgba(3,6,12,.25), rgba(3,6,12,.45));
      z-index: 1;
    }

    @keyframes bgSwap{
      0%   { background-image:url("assets/Back-1.jpg"); }
      10%  { background-image:url("assets/Back-2.jpg"); }
      20%  { background-image:url("assets/Back-3.jpg"); }
      30%  { background-image:url("assets/Back-4.jpg"); }
      40%  { background-image:url("assets/Back-5.jpg"); }
      50%  { background-image:url("assets/Back-6.jpg"); }
      60%  { background-image:url("assets/Back-7.jpg"); }
      70%  { background-image:url("assets/Back-8.jpg"); }
      80%  { background-image:url("assets/Back-9.jpg"); }
      90%  { background-image:url("assets/Back-10.jpg"); }
      100% { background-image:url("assets/Back-1.jpg"); }
    }

    /* ===== Layout ===== */
    .wrap{ width:min(1150px, 92vw); margin:0 auto; }
    header{
      padding: 22px 0 10px;
    }

    /* Top bar (NOT sticky) */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding: 14px 16px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(10,15,25,.55);
      backdrop-filter: blur(14px);
      border-radius: 16px;
      box-shadow: var(--shadow);
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      min-width: 220px;
    }
    .brand img{
      width: 42px; height: 42px; object-fit:contain;
      border-radius: 10px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      padding: 6px;
    }
    .brand b{ font-size: 16px; letter-spacing:.2px; }
    .brand small{ display:block; color:var(--muted); margin-top:2px; font-size:12px; }

    .nav-actions{
      display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;
    }

    .btn{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 14px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      font-weight: 650;
      text-decoration:none;
      display:inline-flex; align-items:center; gap:8px;
      white-space:nowrap;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.16); }
    .btn.primary{
      background: linear-gradient(135deg, rgba(30,136,229,.95), rgba(255,138,0,.88));
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 18px 60px rgba(30,136,229,.16);
    }
    .btn.primary:hover{ transform: translateY(-1px) scale(1.01); }

    .hero{
      margin-top: 16px;
      padding: 26px 18px;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(8,12,20,.55);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 18px;
      align-items: center;
    }

    .hero h1{ margin:0 0 10px; font-size: clamp(26px, 4vw, 44px); line-height: 1.06; }
    .hero p{ margin:0 0 12px; color: var(--muted); font-size: 15px; line-height: 1.6; }

    .hero-badges{
      display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px;
    }
    .badge{
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-weight: 650;
      font-size: 13px;
    }

    .hero-media{
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      box-shadow: 0 20px 70px rgba(0,0,0,.35);
      position:relative;
      min-height: 220px;
    }
    .hero-media img{
      width:100%; height:100%;
      object-fit: cover;
      display:block;
      transform: scale(1.04);
      filter: contrast(1.05) saturate(1.05);
    }
    .hero-media .overlay{
      position:absolute; inset:0;
      background: linear-gradient(120deg, rgba(0,0,0,.0), rgba(0,0,0,.25), rgba(0,0,0,.0));
      pointer-events:none;
    }

    /* ===== Services ===== */
    .section-title{
      margin: 26px 0 12px;
      display:flex; align-items:flex-end; justify-content:space-between; gap:12px;
    }
    .section-title h2{ margin:0; font-size: 20px; letter-spacing:.2px; }
    .section-title span{ color: var(--muted); font-size: 13px; }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }

    .card{
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(12,18,30,.55);
      backdrop-filter: blur(14px);
      box-shadow: 0 18px 60px rgba(0,0,0,.28);
      overflow:hidden;
      position:relative;
      transition: transform .18s ease, border-color .18s ease;
    }
    .card:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,.18); }
    .card img{
      width:100%; height: 170px; object-fit: cover; display:block;
      filter: contrast(1.06) saturate(1.05);
    }
    .card .cbody{ padding: 14px; }
    .card h3{ margin:0 0 6px; font-size: 16px; }
    .card p{ margin:0 0 12px; color: var(--muted); font-size: 13px; line-height: 1.5; }

    .row{
      display:flex; gap:10px; flex-wrap:wrap;
    }

    /* ===== Reviews Showcase ===== */
    .reviews-wrap{
      margin-top: 24px;
      padding: 18px;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(8,12,20,.58);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .reviews-head{
      display:flex; justify-content:space-between; align-items:flex-end; gap:14px;
      margin-bottom: 14px;
    }
    .reviews-head h2{
      margin:0;
      font-size: 20px;
      letter-spacing:.2px;
    }
    .reviews-head .meta{
      color: var(--muted);
      font-size: 13px;
      text-align:right;
      line-height: 1.35;
    }
    .reviews-head .meta b{ color: var(--text); }

    .reviews-stage{
      position:relative;
      height: 220px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .review-card{
      position:absolute;
      width: min(640px, 92vw);
      max-width: 640px;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(15,23,36,.70);
      backdrop-filter: blur(14px);
      box-shadow: 0 22px 80px rgba(0,0,0,.40);
      padding: 16px;
      display:flex;
      gap:14px;
      opacity:0;
      transform: translateX(0) translateY(0) scale(.92);
      transition: transform .75s cubic-bezier(.2,.9,.2,1), opacity .55s ease;
    }

    .review-card .avatar{
      width: 62px; height: 62px;
      border-radius: 16px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      flex: 0 0 auto;
    }
    .review-card .avatar img{
      width:100%; height:100%;
      object-fit: cover;
      display:block;
    }
    .review-card .txt{
      flex:1;
      min-width:0;
    }
    .review-card .top{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap: 10px;
      margin-bottom: 6px;
    }
    .review-card .name{
      font-weight: 800;
      letter-spacing:.2px;
      font-size: 14px;
    }
    .review-card .stars{
      font-size: 13px;
      color: #ffd166;
      white-space:nowrap;
      font-weight: 800;
    }
    .review-card .msg{
      margin: 0;
      color: rgba(234,240,255,.90);
      font-size: 14px;
      line-height: 1.5;
    }
    .review-card .time{
      margin-top: 8px;
      color: var(--muted);
      font-size: 12px;
    }

    /* Positions: left peek, center, right peek, exit */
    .pos-center{
      opacity:1;
      transform: translateX(0) translateY(0) scale(1);
      z-index: 3;
    }
    .pos-left{
      opacity:.75;
      transform: translateX(-62%) translateY(16px) scale(.88);
      z-index: 2;
    }
    .pos-right{
      opacity:.75;
      transform: translateX(62%) translateY(16px) scale(.88);
      z-index: 2;
    }
    .pos-exit-right{
      opacity:0;
      transform: translateX(120%) translateY(40px) scale(.78);
      z-index: 1;
    }
    .pos-enter-left{
      opacity:0;
      transform: translateX(-120%) translateY(40px) scale(.78);
      z-index: 1;
    }

    .reviews-dots{
      display:flex; gap:8px; justify-content:center; margin-top: 12px;
    }
    .dot{
      width: 9px; height: 9px;
      border-radius: 999px;
      background: rgba(255,255,255,.16);
      border: 1px solid rgba(255,255,255,.12);
      transition: transform .2s ease, background .2s ease;
    }
    .dot.active{
      background: linear-gradient(135deg, rgba(30,136,229,.95), rgba(255,138,0,.88));
      transform: scale(1.25);
      border-color: rgba(255,255,255,.18);
    }

    /* ===== Footer ===== */
    footer{
      margin: 26px 0 40px;
      color: var(--muted);
      font-size: 12px;
      text-align:center;
    }

    /* ===== Popup ===== */
    .modal{
      position: fixed;
      inset: 0;
      z-index: 9999;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.55);
      padding: 18px;
    }
    .modal.show{ display:flex; }

    .modal-card{
      width: min(520px, 92vw);
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(10,15,25,.72);
      backdrop-filter: blur(16px);
      box-shadow: 0 30px 120px rgba(0,0,0,.6);
      overflow:hidden;
      transform: translateY(10px) scale(.98);
      animation: popIn .45s cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes popIn{
      to{ transform: translateY(0) scale(1); }
    }
    .modal-banner{
      position:relative;
      height: 160px;
      overflow:hidden;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .modal-banner img{
      width:100%; height:100%;
      object-fit: cover;
      display:block;
      filter: contrast(1.05) saturate(1.05);
    }
    .modal-banner::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(90deg, rgba(0,0,0,.0), rgba(0,0,0,.35));
    }
    .modal-body{
      padding: 16px;
    }
    .modal-body h3{
      margin:0 0 8px;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .modal-body p{
      margin:0 0 10px;
      color: rgba(234,240,255,.92);
      line-height: 1.55;
      font-size: 14px;
    }
    .promo{
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px dashed rgba(255,255,255,.22);
      background: rgba(255,255,255,.06);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin: 10px 0 12px;
      font-weight: 800;
    }
    .promo code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color: #ffd166;
      font-size: 14px;
    }
    .fineprint{
      margin-top: 10px;
      font-size: 11px;
      color: rgba(169,183,211,.9);
      line-height: 1.35;
    }
    .modal-actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 12px;
    }
    .btn.ghost{
      background: rgba(255,255,255,.05);
    }

    /* ===== Responsive ===== */
    @media (max-width: 940px){
      .hero{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 560px){
      .brand{ min-width: unset; }
      .grid{ grid-template-columns: 1fr; }
      .topbar{ padding: 12px; }
      .brand img{ width: 38px; height: 38px; }
      .review-card{ padding: 14px; }
      .review-card .avatar{ width: 56px; height: 56px; border-radius: 14px; }
      .pos-left{ transform: translateX(-74%) translateY(18px) scale(.86); }
      .pos-right{ transform: translateX(74%) translateY(18px) scale(.86); }
    }
  </style>
</head>

<body>
  <div class="bg-rotator" aria-hidden="true"></div>

  <div class="wrap">
    <header>
      <div class="topbar">
        <div class="brand">
          <!-- LOGO: ÿ™ÿ£ŸÉÿØ ÿ£ŸÜŸá ŸÖŸàÿ¨ŸàÿØ ÿØÿßÿÆŸÑ assets ÿ®ÿßÿ≥ŸÖ logo.jpg -->
          <img src="assets/logo.jpg" alt="TecPro99 Logo" />
          <div>
            <b>TecPro99</b>
            <small>(773) 628-7132 ‚Ä¢ Chicago, IL</small>
          </div>
        </div>

        <div class="nav-actions">
          <!-- Directions -->
          <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic"
             target="_blank" rel="noopener"
             onclick="trackDirections('topbar_directions')">
            üìç Directions
          </a>

          <!-- Call -->
          <a class="btn primary" href="tel:+17736287132"
             onclick="trackCall('topbar_call')">
            üìû Call Now
          </a>
        </div>
      </div>

      <section class="hero">
        <div>
          <h1>Premium Device Care, Done Right.</h1>
          <p>
            Fast, clean, and professional service ‚Äî trusted by our local community.
            Visit us in Chicago or call to reserve your spot.
          </p>

          <div class="hero-badges">
            <span class="badge">Open Daily ‚Ä¢ 9 AM ‚Äì 11 PM</span>
            <span class="badge">Same-Day Options</span>
            <span class="badge">Friendly Support</span>
          </div>

          <div class="row" style="margin-top:14px;">
            <a class="btn primary" href="tel:+17736287132"
               onclick="trackBook('hero_book')">
              ‚úÖ Book Now
            </a>
            <a class="btn" href="tel:+17736287132"
               onclick="trackCall('hero_call')">
              üìû Call
            </a>
            <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic"
               target="_blank" rel="noopener"
               onclick="trackDirections('hero_directions')">
              üìç Get Directions
            </a>
          </div>
        </div>

        <div class="hero-media">
          <!-- ÿµŸàÿ±ÿ© ŸáŸäÿ±Ÿà -->
          <img src="assets/hero-techpro.jpg" alt="TecPro99" />
          <div class="overlay"></div>
        </div>
      </section>
    </header>

    <!-- ===== Services (ŸÉŸÖÿß ŸáŸä) ===== -->
    <div class="section-title">
      <h2>Popular Services</h2>
      <span>Tap any service to contact us instantly</span>
    </div>

    <section class="grid">
      <article class="card">
        <img src="assets/service-backglass.jpg" alt="Back Glass" />
        <div class="cbody">
          <h3>Back Glass</h3>
          <p>Clean finish ‚Ä¢ Professional installation</p>
          <div class="row">
            <a class="btn primary" href="tel:+17736287132" onclick="trackCall('svc_backglass_call')">üìû Call</a>
            <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic" target="_blank" rel="noopener" onclick="trackDirections('svc_backglass_directions')">üìç Directions</a>
          </div>
        </div>
      </article>

      <article class="card">
        <img src="assets/service-battery.jpg" alt="Battery" />
        <div class="cbody">
          <h3>Battery</h3>
          <p>Better performance ‚Ä¢ Quick turnaround</p>
          <div class="row">
            <a class="btn primary" href="tel:+17736287132" onclick="trackCall('svc_battery_call')">üìû Call</a>
            <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic" target="_blank" rel="noopener" onclick="trackDirections('svc_battery_directions')">üìç Directions</a>
          </div>
        </div>
      </article>

      <article class="card">
        <img src="assets/service-screen.jpg" alt="Screen" />
        <div class="cbody">
          <h3>Screen</h3>
          <p>Sharp display ‚Ä¢ Smooth touch response</p>
          <div class="row">
            <a class="btn primary" href="tel:+17736287132" onclick="trackCall('svc_screen_call')">üìû Call</a>
            <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic" target="_blank" rel="noopener" onclick="trackDirections('svc_screen_directions')">üìç Directions</a>
          </div>
        </div>
      </article>

      <article class="card">
        <img src="assets/service-board.jpg" alt="Board" />
        <div class="cbody">
          <h3>Board / Diagnostics</h3>
          <p>Accurate checks ‚Ä¢ Reliable results</p>
          <div class="row">
            <a class="btn primary" href="tel:+17736287132" onclick="trackCall('svc_board_call')">üìû Call</a>
            <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic" target="_blank" rel="noopener" onclick="trackDirections('svc_board_directions')">üìç Directions</a>
          </div>
        </div>
      </article>

      <article class="card">
        <img src="assets/service-hdmi.jpg" alt="HDMI" />
        <div class="cbody">
          <h3>HDMI / Console</h3>
          <p>Stable signal ‚Ä¢ Clean port replacement</p>
          <div class="row">
            <a class="btn primary" href="tel:+17736287132" onclick="trackCall('svc_hdmi_call')">üìû Call</a>
            <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic" target="_blank" rel="noopener" onclick="trackDirections('svc_hdmi_directions')">üìç Directions</a>
          </div>
        </div>
      </article>

      <article class="card">
        <img src="assets/service-water.jpg" alt="Water" />
        <div class="cbody">
          <h3>Water / Deep Clean</h3>
          <p>Careful cleaning ‚Ä¢ Best effort recovery</p>
          <div class="row">
            <a class="btn primary" href="tel:+17736287132" onclick="trackCall('svc_water_call')">üìû Call</a>
            <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic" target="_blank" rel="noopener" onclick="trackDirections('svc_water_directions')">üìç Directions</a>
          </div>
        </div>
      </article>
    </section>

    <!-- ===== Reviews Section (NEW) ===== -->
    <section class="reviews-wrap" id="reviews">
      <div class="reviews-head">
        <div>
          <h2>What Customers Say</h2>
          <div style="color:var(--muted); font-size:13px; margin-top:6px;">
            <b style="color:var(--text);">1,000+ happy customers</b> ‚Ä¢ Trusted local service
          </div>
        </div>
        <div class="meta">
          Overall Google rating: <b>4.8+ ‚òÖ</b><br/>
          Verified community feedback
        </div>
      </div>

      <div class="reviews-stage" aria-live="polite">
        <!-- 3 visible cards rendered by JS -->
        <div class="review-card" id="revLeft"></div>
        <div class="review-card" id="revCenter"></div>
        <div class="review-card" id="revRight"></div>
      </div>

      <div class="reviews-dots" id="reviewDots"></div>
    </section>

    <footer>
      <div style="margin-top:18px;">
        <a class="btn" href="https://maps.app.goo.gl/KZmK7n13og7ApGpcA?g_st=ic" target="_blank" rel="noopener"
           onclick="trackDirections('footer_directions')">üìç Get Directions</a>
        <a class="btn primary" style="margin-left:10px;" href="tel:+17736287132"
           onclick="trackCall('footer_call')">üìû Call Now</a>
      </div>
      <div style="margin-top:14px;">¬© <span id="year"></span> TecPro99</div>
    </footer>
  </div>

  <!-- ===== Popup after 15s (NEW) ===== -->
  <div class="modal" id="promoModal" role="dialog" aria-modal="true" aria-label="Special Offer">
    <div class="modal-card">
      <div class="modal-banner">
        <!-- ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ£Ÿä ÿµŸàÿ±ÿ© ŸÖŸÜ assets -->
        <img src="assets/hero-techpro.jpg" alt="TecPro99 Offer"/>
      </div>
      <div class="modal-body">
        <h3>Book Now & Get Exclusive Deals</h3>
        <p>
          Reserve your spot today and enjoy <b>25% OFF</b> + free extras.
          Also get <b>70% OFF</b> screen protection with promo code below.
        </p>

        <div class="promo">
          <span>Promo Code</span>
          <code>ZEPI2026</code>
        </div>

        <div class="modal-actions">
          <a class="btn primary" href="tel:+17736287132" onclick="trackBook('popup_book')">
            ‚úÖ Book Now
          </a>
          <button class="btn ghost" onclick="closePromo()">Not Now</button>
        </div>

        <div class="fineprint">
          * 25% off applies to service booking. 70% off applies to screen protection only.
          Offers may be limited. Contact us to confirm availability.
        </div>
      </div>
    </div>
  </div>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // =========================
    // Tracking (ALL buttons centralized)
    // =========================
    function trackCall(source){
      try{
        gtag('event', 'call_click', {
          event_category: 'engagement',
          event_label: source
        });
      }catch(e){}
    }

    function trackDirections(source){
      try{
        gtag('event', 'directions_click', {
          event_category: 'engagement',
          event_label: source
        });
      }catch(e){}
    }

    function trackBook(source){
      try{
        gtag('event', 'book_now_click', {
          event_category: 'conversion',
          event_label: source
        });
      }catch(e){}
      // Book now is a call action in your flow
      trackCall(source + '_as_call');
    }

    // =========================
    // Reviews Carousel (10 reviews + ad1..ad10 images)
    // =========================
    const reviews = [
      { img:'assets/ad1.jpg',  name:'Michael R.', stars:5, text:'Super clean work and fast service. My device feels brand new.', time:'1 week ago' },
      { img:'assets/ad2.jpg',  name:'Sarah K.',   stars:5, text:'Friendly staff and honest advice. Great experience overall!', time:'2 weeks ago' },
      { img:'assets/ad3.jpg',  name:'Daniel P.',  stars:5, text:'Quick turnaround and professional results. Highly recommended.', time:'3 weeks ago' },
      { img:'assets/ad4.jpg',  name:'Nina L.',    stars:5, text:'They explained everything clearly and the result was perfect.', time:'1 month ago' },
      { img:'assets/ad5.jpg',  name:'Alex G.',    stars:5, text:'Great quality and fair pricing. I‚Äôll be back for sure.', time:'1 month ago' },
      { img:'assets/ad6.jpg',  name:'Omar S.',    stars:5, text:'Very smooth process from start to finish. Excellent work.', time:'2 months ago' },
      { img:'assets/ad7.jpg',  name:'Jessica M.', stars:5, text:'Best local place. Fast, clean, and respectful service.', time:'2 months ago' },
      { img:'assets/ad8.jpg',  name:'Chris T.',   stars:5, text:'They saved my day. Looks great and works perfectly now.', time:'3 months ago' },
      { img:'assets/ad9.jpg',  name:'Anthony V.', stars:5, text:'Top-notch service. Strongly recommend TecPro99!', time:'3 months ago' },
      { img:'assets/ad10.jpg', name:'Lina H.',    stars:5, text:'Amazing service and great communication. Thank you!', time:'4 months ago' }
    ];

    const revLeft   = document.getElementById('revLeft');
    const revCenter = document.getElementById('revCenter');
    const revRight  = document.getElementById('revRight');
    const dotsWrap  = document.getElementById('reviewDots');

    let idx = 0;

    function starString(n){
      return '‚òÖ'.repeat(n) + '‚òÜ'.repeat(Math.max(0, 5-n));
    }

    function cardHTML(r){
      return `
        <div class="avatar"><img src="${r.img}" alt="Customer"/></div>
        <div class="txt">
          <div class="top">
            <div class="name">${r.name}</div>
            <div class="stars">${starString(r.stars)}</div>
          </div>
          <p class="msg">${r.text}</p>
          <div class="time">${r.time}</div>
        </div>
      `;
    }

    function buildDots(){
      dotsWrap.innerHTML = '';
      for(let i=0;i<reviews.length;i++){
        const d = document.createElement('div');
        d.className = 'dot' + (i===idx ? ' active' : '');
        d.addEventListener('click', ()=> jumpTo(i));
        dotsWrap.appendChild(d);
      }
    }

    function setPos(el, cls){
      el.className = 'review-card ' + cls;
    }

    function render(){
      const leftIndex   = (idx - 1 + reviews.length) % reviews.length;
      const centerIndex = idx;
      const rightIndex  = (idx + 1) % reviews.length;

      revLeft.innerHTML   = cardHTML(reviews[leftIndex]);
      revCenter.innerHTML = cardHTML(reviews[centerIndex]);
      revRight.innerHTML  = cardHTML(reviews[rightIndex]);

      setPos(revLeft, 'pos-left');
      setPos(revCenter, 'pos-center');
      setPos(revRight, 'pos-right');

      // dots
      [...dotsWrap.children].forEach((dot, i)=>{
        dot.classList.toggle('active', i===idx);
      });
    }

    let isAnimating = false;
    function nextReview(){
      if(isAnimating) return;
      isAnimating = true;

      // Exit center -> right down, right -> exit, left -> center
      setPos(revCenter, 'pos-exit-right');
      setPos(revRight, 'pos-exit-right');

      // Prepare a new left entering
      const newLeftIndex = (idx - 2 + reviews.length) % reviews.length;
      revLeft.innerHTML = cardHTML(reviews[newLeftIndex]);
      setPos(revLeft, 'pos-enter-left');

      // after short tick, slide into positions
      setTimeout(()=>{
        idx = (idx + 1) % reviews.length;

        // rebuild content for new trio
        const leftIndex   = (idx - 1 + reviews.length) % reviews.length;
        const centerIndex = idx;
        const rightIndex  = (idx + 1) % reviews.length;

        revLeft.innerHTML   = cardHTML(reviews[leftIndex]);
        revCenter.innerHTML = cardHTML(reviews[centerIndex]);
        revRight.innerHTML  = cardHTML(reviews[rightIndex]);

        setPos(revLeft, 'pos-left');
        setPos(revCenter, 'pos-center');
        setPos(revRight, 'pos-right');

        // dots
        [...dotsWrap.children].forEach((dot, i)=>{
          dot.classList.toggle('active', i===idx);
        });

        setTimeout(()=>{ isAnimating = false; }, 850);
      }, 120);
    }

    function jumpTo(i){
      idx = i;
      render();
      buildDots();
    }

    buildDots();
    render();
    setInterval(nextReview, 5000);

    // =========================
    // Promo popup after 15s
    // =========================
    const promoModal = document.getElementById('promoModal');

    function closePromo(){
      promoModal.classList.remove('show');
    }

    // Close on background click
    promoModal.addEventListener('click', (e)=>{
      if(e.target === promoModal) closePromo();
    });

    // Show after 15s (once per session)
    setTimeout(()=>{
      try{
        if(!sessionStorage.getItem('promo_shown')){
          promoModal.classList.add('show');
          sessionStorage.setItem('promo_shown', '1');
          // Track popup view
          gtag('event','promo_popup_view', {event_category:'engagement', event_label:'15s_timer'});
        }
      }catch(e){
        promoModal.classList.add('show');
      }
    }, 15000);
  </script>
</body>
</html>
